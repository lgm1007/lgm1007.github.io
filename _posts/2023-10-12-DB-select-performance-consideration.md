---
layout:	post
title:  DB 조회 성능 향상을 위한 방법
date:   2023-10-12 19:30:00 +0900
image:  post-17.jpg
author: GyuMyung
tags:   database
comments: true
---

# DB 조회 성능 향상을 위한 방법

### 1. 적절한 인덱스 사용
* 데이터베이스에서 레코드 검색 시 인덱스를 활용하면 검색 속도를 향상시킬 수 있습니다.
* 인덱스는 특정 열의 값을 저장하고 해당 열의 검색을 빠르게 만듭니다.
* 적용 예제
    * ```sql
      CREATE INDEX idx_order_number ON orders(order_number);
      ```
* 주의 사항
    * 과도한 인덱스 생성은 데이터 쓰기 작업을 느리게 할 수 있으므로 필요한 곳에 적절하게 인덱스를 생성해야 합니다.

### 2. 쿼리 튜닝
* SQL 쿼리를 최적화하여 성능을 향상시킵니다.
* 부정확한 조인, 부적절한 필터링 및 인덱스를 수정하는 것을 포함합니다.
* 적용 예제
    * ```sql
      -- 잘못된 쿼리
      SELECT * FROM orders o JOIN products p ON o.product_id = p.id;
      ```
* 주의 사항
    * 쿼리 최적화를 통해 모든 쿼리를 수정하는 것보다 가장 많은 효과를 볼 수 있는 쿼리를 선택하고 수정하는 것이 중요합니다.

### 3. 정규화와 역정규화
* 데이터베이스 설계를 정규화하여 중복을 줄이고 일관성을 유지하면 데이터의 무결성을 유지할 수 있습니다.
* 역정규화는 특정 조회 작업에 맞게 데이터를 중복시키는 것입니다.
* 적용 예제
    * ```sql
      -- 역정규화 (주문 테이블에 제품 정보 추가)
      ALTER TABLE orders ADD COLUMN product_name VARCHAR(255);
      ```
* 주의 사항
    * 역정규화를 사용할 때 데이터 일관성을 유지해야 합니다.
    * 역정규화된 열은 정기적으로 업데이트되어야 합니다.

### 4. 하드웨어 업그레이드
* 데이터베이스 서버의 하드웨어를 업그레이드하여 처리 능력을 향상시킬 수 있습니다. CPU, 메모리, 디스크 속도 등
* 높은 트래픽에 대응하기 어렵다면, 빠른 CPU로 업그레이드하는 것이 도움이 될 수 있습니다.
* 주의 사항
    * 하드웨어 업그레이드 전에 현재 시스템의 병목 현상을 정확하게 식별하고 어떤 하드웨어 업그레이드가 필요한 지 평가해야 합니다.

### 5. 캐싱 활용
* 캐싱은 이전에 수행한 쿼리 결과를 저장하여 동일한 쿼리를 다시 수행하지 않도록 합니다.
* 주의 사항
    * 캐시된 데이터의 유효 기간을 설정하고, 데이터의 변경사항을 캐시에 반영하는 메커니즘을 구현해야 합니다.

### 6. 파티셔닝
* 큰 테이블을 파티션으로 나누면 데이터 관리 및 조회 성능이 향상됩니다.
* 주의 사항
    * 파티션 키를 신중하게 선택해야 하며, 파티션 전략을 변경하는 데 일정한 주기로 백업이 필요합니다.

### 7. 인덱스, 통계 업데이트
* 정기적으로 인덱스를 다시 작성하고 통계 정보를 업데이트하여 성능을 최적화합니다.
* 주의 사항
    * 인덱스와 통계 정보는 정기적으로 유지보수되어야 하며, 작업 중에 데이터베이스 성능에 영향을 미칠 수 있으므로 유의해야 합니다.

### 8. 정기적인 유지보수
* 데이터베이스의 백업, 로그 관리 및 인덱스 재작성과 같은 유지보수 작업으로 성능을 유지하고 데이터 손실을 방지합니다.
* 주의 사항
    * 적절한 보관 주기와 정책을 설정해야 합니다.

### 9. 모니터링 및 로깅
* 모니터링 도구를 사용하여 데이터베이스 성능을 추적하고 이상 징후를 감지해야 합니다.
* 주의 사항
    * 로그 파일의 크기와 보관 주기를 관리해야 합니다.

### 10. 적절한 데이터베이스 시스템 선택
* 응용 프로그램의 요구 사항과 예상되는 트래픽에 따라 데이터베이스 시스템을 선택해야 합니다.
* 주의 사항
    * 스케일링 가능성과 라이센스 비용도 고려해야 합니다.

